import{w as ke,a as d,o as e,t as we}from"./chunk-NL6KNZEE-CmHBY1x6.js";import{H as Ce,P as Se,a as Ie,S as Oe,b as Pe,R as Ee,c as $e,T as re,A as We,m as Te}from"./trash-2-Dh11y13Q.js";import{S as Re}from"./search-DrjjuQff.js";import{E as Ae}from"./eye-DorOnmru.js";const He={slow:1500,normal:1e3,fast:500},Be=ke(function(){const[m,L]=d.useState({}),[c,G]=d.useState(null),[M,Y]=d.useState(""),[k,ie]=d.useState(""),[u,z]=d.useState([]),[f,N]=d.useState(-1),[w,T]=d.useState(!1),[F,ae]=d.useState("normal"),[le,C]=d.useState(null),[D,S]=d.useState([]),[J,y]=d.useState([]),[I,K]=d.useState({width:800,height:600}),p=d.useRef(null),B=()=>Math.random().toString(36).substr(2,9);d.useEffect(()=>{if(!c){const t=B(),s={id:t,char:"ROOT",isEndOfWord:!1,children:{},x:400,y:60,level:0};L({[t]:s}),G(t)}},[c]);const Q=d.useCallback(t=>{if(!c||!t[c])return t;const s={...t},r={};Object.values(s).forEach(l=>{const x=l.level||0;r[x]||(r[x]=[]),r[x].push(l.id)});const i=Object.values(r).reduce((l,x)=>Math.max(l,x.length),0),h=i*60+200,n=Math.max(800,h),a=600,o=20,g=40,b=100,v=Object.values(r).map(l=>l.length);v.length>0&&Math.max(...v);const R=Object.keys(r).map(l=>parseInt(l)),A=R.length>0?Math.max(...R):0,$=Math.max(a,g*2+(A+1)*b+o*2);Object.entries(r).forEach(([l,x])=>{const je=parseInt(l),ee=g+o+je*b,H=g+o,te=n-g-o,q=te-H;if(x.length===1){const j=x[0];s[j]&&(s[j]={...s[j],x:n/2,y:ee})}else x.forEach((j,se)=>{if(s[j]){let W;if(x.length===2)W=H+(se===0?q*.25:q*.75);else{const ve=q/(x.length-1);W=H+se*ve}W=Math.max(H,Math.min(W,te)),s[j]={...s[j],x:W,y:ee}}})});const U=g+o,V=n-g-o,X=g+o,_=$-g-o;Object.values(s).forEach(l=>{l.x!==void 0&&l.y!==void 0&&(l.x=Math.max(U,Math.min(l.x,V)),l.y=Math.max(X,Math.min(l.y,_)))});const Z=Math.max(a,g*2+(A+1)*b+o*2);K({width:n,height:Z});const Ne=Object.values(s).filter(l=>l.x!==void 0&&l.y!==void 0&&(l.x<U||l.x>V||l.y<X||l.y>_));return console.log("Trie positioning debug:",{maxNodesInAnyLevel:i,svgWidth:n,finalHeight:Z,boundaries:{leftBound:U,rightBound:V,topBound:X,bottomBound:_},nodesByLevel:Object.fromEntries(Object.entries(r).map(([l,x])=>[l,x.length])),positionViolations:Ne.length,samplePositions:Object.values(s).slice(0,8).map(l=>({char:l.char,x:l.x,y:l.y}))}),s},[c,K]),O=d.useCallback(()=>{T(!1),N(-1),C(null),S([]),p.current&&(clearInterval(p.current),p.current=null)},[]),ne=d.useCallback(()=>{u.length!==0&&(T(!0),p.current=setInterval(()=>{N(t=>{const s=t+1;if(s>=u.length)return T(!1),t;const r=u[s];return r.highlightNodeId&&C(r.highlightNodeId),r.highlightPath&&S(r.highlightPath),s})},He[F]))},[u,F]),oe=d.useCallback(()=>{T(!1),p.current&&(clearInterval(p.current),p.current=null)},[]),de=d.useCallback(()=>{if(f<u.length-1){const t=f+1;N(t);const s=u[t];s.highlightNodeId&&C(s.highlightNodeId),s.highlightPath&&S(s.highlightPath)}},[f,u]),ce=d.useCallback(()=>{if(f>-1){const t=f-1;if(N(t),t>=0){const s=u[t];s.highlightNodeId&&C(s.highlightNodeId),s.highlightPath&&S(s.highlightPath)}else C(null),S([])}},[f,u]),he=d.useCallback(t=>{if(!c||!t)return;const s=[],r={...m};let i=c;const h=[c];s.push({type:"insert",description:`Inserting word "${t}"`,highlightNodeId:c});for(let a=0;a<t.length;a++){const o=t[a].toLowerCase(),g=r[i];if(s.push({type:"insert",description:`Looking for character '${o}' in node '${g.char}'`,highlightNodeId:i,currentChar:o}),g.children[o])i=g.children[o],h.push(i),s.push({type:"insert",description:`Character '${o}' found, moving to child node`,highlightNodeId:i,highlightPath:[...h]});else{const b=B(),v={id:b,char:o,isEndOfWord:!1,children:{},parent:i,level:(g.level||0)+1,x:0,y:0};r[b]=v,r[i]={...g,children:{...g.children,[o]:b}},i=b,h.push(i),s.push({type:"insert",description:`Character '${o}' not found, creating new node`,highlightNodeId:i,highlightPath:[...h]})}}r[i]={...r[i],isEndOfWord:!0},s.push({type:"insert",description:`Marking end of word "${t}"`,highlightNodeId:i,highlightPath:[...h]}),s.push({type:"insert",description:`Successfully inserted "${t}"`,output:`Word "${t}" inserted successfully`});const n=Q(r);L(n),z(s),N(-1),y(a=>[...a,`INSERT: "${t}" - Added to trie`])},[c,m,Q]),ge=d.useCallback(t=>{if(!c||!t)return;const s=[];let r=c;const i=[c];let h=!0;s.push({type:"search",description:`Searching for word "${t}"`,highlightNodeId:c});for(let n=0;n<t.length;n++){const a=t[n].toLowerCase(),o=m[r];if(s.push({type:"search",description:`Looking for character '${a}' in node '${o.char}'`,highlightNodeId:r,currentChar:a,highlightPath:[...i]}),o.children[a])r=o.children[a],i.push(r),s.push({type:"search",description:`Character '${a}' found, moving to child node`,highlightNodeId:r,highlightPath:[...i]});else{h=!1,s.push({type:"search",description:`Character '${a}' not found. Word "${t}" does not exist`,found:!1});break}}h?m[r].isEndOfWord?(s.push({type:"search",description:`Word "${t}" found!`,found:!0,highlightNodeId:r,highlightPath:[...i],output:`FOUND: "${t}" exists in trie`}),y(a=>[...a,`SEARCH: "${t}" - FOUND`])):(s.push({type:"search",description:`Path exists but "${t}" is not a complete word`,found:!1,highlightPath:[...i],output:`NOT FOUND: "${t}" is not a complete word`}),y(a=>[...a,`SEARCH: "${t}" - NOT FOUND (incomplete word)`])):y(n=>[...n,`SEARCH: "${t}" - NOT FOUND`]),z(s),N(-1)},[c,m]),ue=d.useCallback(t=>{if(!c||!t)return;const s=[];let r=c;const i=[c];let h=!0;s.push({type:"startsWith",description:`Checking if any word starts with "${t}"`,highlightNodeId:c});for(let n=0;n<t.length;n++){const a=t[n].toLowerCase(),o=m[r];if(s.push({type:"startsWith",description:`Looking for character '${a}' in node '${o.char}'`,highlightNodeId:r,currentChar:a,highlightPath:[...i]}),o.children[a])r=o.children[a],i.push(r),s.push({type:"startsWith",description:`Character '${a}' found, moving to child node`,highlightNodeId:r,highlightPath:[...i]});else{h=!1,s.push({type:"startsWith",description:`Character '${a}' not found. No words start with "${t}"`,found:!1});break}}h?(s.push({type:"startsWith",description:`Prefix "${t}" found! Words starting with "${t}" exist`,found:!0,highlightNodeId:r,highlightPath:[...i],output:`PREFIX FOUND: Words starting with "${t}" exist`}),y(n=>[...n,`STARTS_WITH: "${t}" - PREFIX FOUND`])):y(n=>[...n,`STARTS_WITH: "${t}" - PREFIX NOT FOUND`]),z(s),N(-1)},[c,m]),xe=()=>{if(!M.trim()){alert("Please enter a word to insert");return}O(),he(M.trim()),Y("")},pe=()=>{if(!k.trim()){alert("Please enter a word to search");return}O(),ge(k.trim())},me=()=>{if(!k.trim()){alert("Please enter a prefix to check");return}O(),ue(k.trim())},fe=()=>{O();const t=B(),s={id:t,char:"ROOT",isEndOfWord:!1,children:{},x:400,y:50,level:0};L({[t]:s}),G(t),y(r=>[...r,"CLEAR: Trie cleared"])},be=()=>{y([])},ye=()=>{console.log("Create Sample Trie is currently disabled for testing"),y(t=>[...t,"SAMPLE: Create Sample Trie function is currently disabled"])};d.useEffect(()=>{!w&&p.current&&(clearInterval(p.current),p.current=null)},[w]),d.useEffect(()=>()=>{p.current&&clearInterval(p.current)},[]);const P=u[f],E=Object.values(m).filter(t=>t.x!==void 0&&t.y!==void 0);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(we,{to:"/",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[e.jsx(Ce,{size:20}),e.jsx("span",{children:"Home"})]}),e.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Trie (Prefix Tree) Visualization"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("select",{value:F,onChange:t=>ae(t.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[e.jsx("option",{value:"slow",children:"Slow"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"fast",children:"Fast"})]})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Animation Controls"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsxs("button",{onClick:w?oe:ne,disabled:u.length===0,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[w?e.jsx(Se,{size:16}):e.jsx(Ie,{size:16}),w?"Pause":"Play"]}),e.jsx("button",{onClick:ce,disabled:f<=-1,className:"flex items-center gap-2 px-3 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Oe,{size:16})}),e.jsx("button",{onClick:de,disabled:f>=u.length-1,className:"flex items-center gap-2 px-3 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Pe,{size:16})}),e.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:[e.jsx(Ee,{size:16}),"Reset"]})]}),P&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["Step ",f+1,"/",u.length,": ",P.description]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Insert Word"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:M,onChange:t=>Y(t.target.value),placeholder:"Enter word to insert",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),e.jsxs("button",{onClick:xe,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[e.jsx($e,{size:16}),"Insert"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Search Operations"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:k,onChange:t=>ie(t.target.value),placeholder:"Enter word/prefix",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),e.jsxs("button",{onClick:pe,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:[e.jsx(Re,{size:16}),"Search Word"]}),e.jsxs("button",{onClick:me,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:[e.jsx(Ae,{size:16}),"Starts With"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Utilities"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:ye,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create Sample Trie"}),e.jsxs("button",{onClick:fe,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[e.jsx(re,{size:16}),"Clear Trie"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trie Info"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("p",{children:["Total Nodes: ",E.length]}),e.jsxs("p",{children:["Word Endings: ",E.filter(t=>t.isEndOfWord).length]}),e.jsxs("p",{children:["Max Depth: ",Math.max(...E.map(t=>t.level||0))]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Words in Trie:"}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1 max-h-32 overflow-y-auto",children:(()=>{const t=[],s=(r,i)=>{const h=m[r];h&&(h.isEndOfWord&&i&&t.push(i),Object.entries(h.children).forEach(([n,a])=>{s(a,i+n)}))};return c&&s(c,""),t.length>0?t.map((r,i)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("span",{children:['"',r,'"']})]},i)):e.jsx("div",{className:"text-gray-500 italic",children:"No words found"})})()})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tree Structure:"}),e.jsx("div",{className:"text-xs font-mono text-gray-600 dark:text-gray-400 space-y-0 max-h-40 overflow-y-auto bg-gray-50 dark:bg-gray-700 p-2 rounded",children:(()=>{const t=[],s=(r,i,h)=>{const n=m[r];if(!n)return;const a=h?"└─ ":"├─ ",o=n.char+(n.isEndOfWord?" (END)":"");t.push(i+a+o);const g=Object.entries(n.children);g.forEach(([b,v],R)=>{const A=R===g.length-1,$=i+(h?"   ":"│  ");t.push($+"│"),t.push($+`├─[${b}]`),s(v,$+"│  ",A)})};return c&&s(c,"",!0),t.length>0?t.map((r,i)=>e.jsx("div",{children:r},i)):e.jsx("div",{children:"No structure found"})})()})]})]})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Trie Visualization"}),e.jsx("div",{className:"overflow-auto max-h-[700px] w-full",children:e.jsxs("svg",{width:I.width,height:I.height,viewBox:`0 0 ${I.width} ${I.height}`,className:"border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-900",style:{minWidth:`${I.width}px`},children:[e.jsx("defs",{children:e.jsx("marker",{id:"arrowhead",markerWidth:"6",markerHeight:"4",refX:"5",refY:"2",orient:"auto",children:e.jsx("polygon",{points:"0 0, 5 2, 0 4",className:"fill-gray-600 dark:fill-gray-400"})})}),E.map(t=>Object.entries(t.children).map(([s,r])=>{const i=m[r];if(!i||i.x===void 0||i.y===void 0)return null;const h=D.includes(t.id)&&D.includes(r);return e.jsxs("g",{children:[e.jsx("line",{x1:t.x,y1:t.y+6,x2:i.x,y2:i.y-6,className:`stroke-2 ${h?"stroke-yellow-500":"stroke-gray-400 dark:stroke-gray-500"}`,markerEnd:"url(#arrowhead)"}),e.jsx("text",{x:(t.x+i.x)/2,y:(t.y+i.y)/2-5,textAnchor:"middle",className:"text-xs fill-gray-600 dark:fill-gray-400 font-semibold",children:s})]},`${t.id}-${r}`)})),e.jsx(We,{children:E.map(t=>{const s=le===t.id,r=D.includes(t.id),i=t.char==="ROOT";return e.jsxs(Te.g,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},children:[e.jsx("circle",{cx:t.x,cy:t.y,r:"20",className:`stroke-2 ${s?"fill-yellow-400 stroke-yellow-600":r?"fill-green-400 stroke-green-600":t.isEndOfWord?"fill-red-400 stroke-red-600":i?"fill-gray-400 stroke-gray-600":"fill-blue-400 stroke-blue-600"}`}),e.jsx("text",{x:t.x,y:t.y+4,textAnchor:"middle",className:"text-sm font-bold fill-white",children:i?"R":t.char.toUpperCase()}),t.isEndOfWord&&e.jsx("circle",{cx:t.x+15,cy:t.y-15,r:"5",className:"fill-red-500 stroke-red-700 stroke-1"})]},t.id)})})]})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("p",{children:["• ",e.jsx("span",{className:"inline-block w-4 h-4 bg-red-400 rounded-full mr-2"}),"Red nodes: End of word"]}),e.jsxs("p",{children:["• ",e.jsx("span",{className:"inline-block w-4 h-4 bg-gray-400 rounded-full mr-2"}),"Gray node: Root"]}),e.jsxs("p",{children:["• ",e.jsx("span",{className:"inline-block w-4 h-4 bg-blue-400 rounded-full mr-2"}),"Blue nodes: Regular nodes"]}),e.jsx("p",{children:"• Red dot: Word ending marker"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Console Output"}),e.jsxs("button",{onClick:be,className:"flex items-center gap-2 px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-sm",children:[e.jsx(re,{size:14}),"Clear"]})]}),e.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm min-h-[200px] max-h-[300px] overflow-y-auto",children:J.length===0?e.jsx("div",{className:"text-gray-500",children:"Console output will appear here when you run operations..."}):e.jsx("div",{className:"space-y-2",children:J.map((t,s)=>e.jsxs("div",{className:"whitespace-pre-wrap",children:[e.jsxs("span",{className:"text-gray-400",children:["[",s+1,"]"]})," ",t]},s))})}),P&&P.output&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Current Step:"})," ",P.output]})})]})]})]})})]})});export{Be as default};
