import{w as se,a as i,o as e,t as ae}from"./chunk-NL6KNZEE-CmHBY1x6.js";import{H as re,P as ie,a as ne,S as le,b as de,R as ce,c as oe,T as A,A as he,m as ue}from"./trash-2-Dh11y13Q.js";import{S as ge}from"./search-DrjjuQff.js";import{M as xe}from"./minus-alcnGp7i.js";const pe={slow:1500,normal:1e3,fast:500},g=10,ve=se(function(){const[x,f]=i.useState(()=>Array.from({length:g},(t,s)=>({index:s,entries:[]}))),[H,I]=i.useState(""),[C,T]=i.useState(""),[S,R]=i.useState(""),[d,E]=i.useState([]),[h,b]=i.useState(-1),[k,w]=i.useState(!1),[B,K]=i.useState("normal"),[V,v]=i.useState(null),[G,j]=i.useState(null),[P,p]=i.useState([]),o=i.useRef(null),z=()=>Math.random().toString(36).substr(2,9),N=t=>Math.abs(t)%g,y=i.useCallback(()=>{w(!1),b(-1),v(null),j(null),o.current&&(clearInterval(o.current),o.current=null)},[]),L=i.useCallback(()=>{d.length!==0&&(w(!0),o.current=setInterval(()=>{b(t=>{const s=t+1;if(s>=d.length)return w(!1),t;const a=d[s];return a.highlightBucket!==void 0&&v(a.highlightBucket),a.highlightEntry&&j(a.highlightEntry),s})},pe[B]))},[d,B]),O=i.useCallback(()=>{w(!1),o.current&&(clearInterval(o.current),o.current=null)},[]),M=i.useCallback(()=>{if(h<d.length-1){const t=h+1;b(t);const s=d[t];s.highlightBucket!==void 0&&v(s.highlightBucket),s.highlightEntry&&j(s.highlightEntry)}},[h,d]),_=i.useCallback(()=>{if(h>-1){const t=h-1;if(b(t),t>=0){const s=d[t];s.highlightBucket!==void 0&&v(s.highlightBucket),s.highlightEntry&&j(s.highlightEntry)}else v(null),j(null)}},[h,d]),U=i.useCallback((t,s)=>{const a=[],r=N(t);a.push({type:"hash",description:`Computing hash for key ${t}: ${t} % ${g} = ${r}`,key:t,hash:r}),a.push({type:"put",description:`Looking at bucket ${r}`,bucketIndex:r,highlightBucket:r});const l=x[r],n=l.entries.find(c=>c.key===t);if(n)a.push({type:"update",description:`Key ${t} already exists, updating value from "${n.value}" to "${s}"`,highlightBucket:r,highlightEntry:n.id}),f(c=>c.map(u=>u.index===r?{...u,entries:u.entries.map(m=>m.key===t?{...m,value:s}:m)}:u)),a.push({type:"put",description:`Successfully updated key ${t} with value "${s}"`,highlightBucket:r,highlightEntry:n.id}),p(c=>[...c,`Updated: key ${t} → "${s}"`]);else{const c={id:z(),key:t,value:s,hash:r};l.entries.length>0?(a.push({type:"collision",description:`Collision detected! Bucket ${r} already has entries`,highlightBucket:r}),a.push({type:"put",description:`Adding key-value pair (${t}, "${s}") to chain in bucket ${r}`,highlightBucket:r})):a.push({type:"put",description:`Bucket ${r} is empty, adding key-value pair (${t}, "${s}")`,highlightBucket:r}),f(u=>u.map(m=>m.index===r?{...m,entries:[...m.entries,c]}:m)),a.push({type:"put",description:`Successfully added key ${t} with value "${s}" to HashTable`,highlightBucket:r,highlightEntry:c.id}),p(u=>[...u,`Put: key ${t} → "${s}" (bucket ${r})`])}E(a),b(-1)},[x]),D=i.useCallback(t=>{const s=[],a=N(t);s.push({type:"hash",description:`Computing hash for key ${t}: ${t} % ${g} = ${a}`,key:t,hash:a}),s.push({type:"get",description:`Looking at bucket ${a}`,bucketIndex:a,highlightBucket:a});const r=x[a],l=r.entries.find(n=>n.key===t);l?(s.push({type:"get",description:`Found key ${t} in bucket ${a}`,highlightBucket:a,highlightEntry:l.id}),s.push({type:"get",description:`Key ${t} maps to value "${l.value}"`,highlightBucket:a,highlightEntry:l.id,found:!0}),p(n=>[...n,`Get: key ${t} → "${l.value}" (found)`])):(r.entries.length>0&&s.push({type:"get",description:`Searching through chain in bucket ${a}`,highlightBucket:a}),s.push({type:"get",description:`Key ${t} not found in HashTable`,highlightBucket:a,found:!1}),p(n=>[...n,`Get: key ${t} → not found`])),E(s),b(-1)},[x]),Y=i.useCallback(t=>{const s=[],a=N(t);s.push({type:"hash",description:`Computing hash for key ${t}: ${t} % ${g} = ${a}`,key:t,hash:a}),s.push({type:"remove",description:`Looking at bucket ${a}`,bucketIndex:a,highlightBucket:a});const l=x[a].entries.find(n=>n.key===t);l?(s.push({type:"remove",description:`Found key ${t} in bucket ${a}`,highlightBucket:a,highlightEntry:l.id}),f(n=>n.map(c=>c.index===a?{...c,entries:c.entries.filter(u=>u.key!==t)}:c)),s.push({type:"remove",description:`Successfully removed key ${t} and its value "${l.value}" from HashTable`,highlightBucket:a}),p(n=>[...n,`Remove: key ${t} and value "${l.value}" (removed)`])):(s.push({type:"remove",description:`Key ${t} not found in HashTable`,highlightBucket:a,found:!1}),p(n=>[...n,`Remove: key ${t} → not found`])),E(s),b(-1)},[x]),Z=()=>{const t=parseInt(H);if(isNaN(t)){alert("Please enter a valid key (number)");return}if(!C.trim()){alert("Please enter a value");return}y(),U(t,C.trim()),I(""),T("")},q=()=>{const t=parseInt(S);if(isNaN(t)){alert("Please enter a valid key (number)");return}y(),D(t)},J=()=>{const t=parseInt(S);if(isNaN(t)){alert("Please enter a valid key (number)");return}y(),Y(t)},Q=()=>{y(),f(Array.from({length:g},(t,s)=>({index:s,entries:[]}))),p(t=>[...t,"HashTable cleared"])},W=()=>{p([])},X=()=>{y();const t=[{key:15,value:"apple"},{key:25,value:"banana"},{key:35,value:"cherry"},{key:12,value:"date"},{key:22,value:"elderberry"},{key:32,value:"fig"},{key:18,value:"grape"},{key:28,value:"honeydew"}],s=Array.from({length:g},(a,r)=>({index:r,entries:[]}));t.forEach(({key:a,value:r})=>{const l=N(a),n={id:z(),key:a,value:r,hash:l};s[l].entries.push(n)}),f(s),p(a=>[...a,`Sample HashTable created with ${t.length} entries`])};i.useEffect(()=>{!k&&o.current&&(clearInterval(o.current),o.current=null)},[k]),i.useEffect(()=>()=>{o.current&&clearInterval(o.current)},[]);const $=d[h],F=x.reduce((t,s)=>t+s.entries.length,0),ee=F/g,te=x.filter(t=>t.entries.length>1).length;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ae,{to:"/",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[e.jsx(re,{size:20}),e.jsx("span",{children:"Home"})]}),e.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"HashTable Visualization (Hash: n % 10)"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("select",{value:B,onChange:t=>K(t.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[e.jsx("option",{value:"slow",children:"Slow"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"fast",children:"Fast"})]})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Animation Controls"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsxs("button",{onClick:k?O:L,disabled:d.length===0,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[k?e.jsx(ie,{size:16}):e.jsx(ne,{size:16}),k?"Pause":"Play"]}),e.jsx("button",{onClick:_,disabled:h<=-1,className:"flex items-center gap-2 px-3 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(le,{size:16})}),e.jsx("button",{onClick:M,disabled:h>=d.length-1,className:"flex items-center gap-2 px-3 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(de,{size:16})}),e.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:[e.jsx(ce,{size:16}),"Reset"]})]}),$&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["Step ",h+1,"/",d.length,": ",$.description]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Put Operation"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"number",value:H,onChange:t=>I(t.target.value),placeholder:"Enter key (number)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),e.jsx("input",{type:"text",value:C,onChange:t=>T(t.target.value),placeholder:"Enter value",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),e.jsxs("button",{onClick:Z,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[e.jsx(oe,{size:16}),"Put"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Get/Remove Operations"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"number",value:S,onChange:t=>R(t.target.value),placeholder:"Enter key to search",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:q,className:"flex items-center justify-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:[e.jsx(ge,{size:16}),"Get"]}),e.jsxs("button",{onClick:J,className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:[e.jsx(xe,{size:16}),"Remove"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Utilities"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:X,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create Sample HashTable"}),e.jsxs("button",{onClick:Q,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[e.jsx(A,{size:16}),"Clear HashTable"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"HashTable Stats"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("p",{children:["Total Entries: ",F]}),e.jsxs("p",{children:["Buckets: ",g]}),e.jsxs("p",{children:["Load Factor: ",ee.toFixed(2)]}),e.jsxs("p",{children:["Collisions: ",te]}),e.jsxs("p",{children:["Hash Function: n % ",g]})]})]})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"HashTable Visualization"}),e.jsx("div",{className:"space-y-3",children:x.map(t=>{const s=V===t.index;return e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:`min-w-[100px] text-center p-3 rounded-md font-semibold ${s?"bg-yellow-400 text-yellow-900":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:["Bucket ",t.index]}),e.jsxs("div",{className:"flex-1 min-h-[60px] border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-md p-3 flex items-center gap-2 overflow-x-auto",children:[e.jsx(he,{children:t.entries.map((a,r)=>{const l=G===a.id;return e.jsxs(ue.div,{initial:{opacity:0,x:-20,scale:.8},animate:{opacity:1,x:0,scale:l?1.05:1},exit:{opacity:0,x:20,scale:.8},transition:{duration:.3},className:`min-w-[80px] h-12 rounded-md flex flex-col items-center justify-center text-white text-xs px-2 ${l?"bg-yellow-500 shadow-lg":"bg-blue-500"}`,children:[e.jsx("div",{className:"font-bold text-xs",children:a.key}),e.jsx("div",{className:"text-xs opacity-70",children:"→"}),e.jsx("div",{className:"font-semibold text-xs truncate max-w-full",children:a.value})]},a.id)})}),t.entries.length===0&&e.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm italic",children:"Empty"}),t.entries.length>1&&e.jsxs("div",{className:"ml-2 text-xs text-red-600 dark:text-red-400 font-semibold bg-red-100 dark:bg-red-900/20 px-2 py-1 rounded",children:["Chain (",t.entries.length,")"]})]})]},t.index)})}),e.jsxs("div",{className:"mt-6 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("p",{children:["• Hash Function: ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:"hash(key) = key % 10"})]}),e.jsx("p",{children:"• Collisions are resolved using chaining (linked lists)"}),e.jsx("p",{children:"• Each entry shows: Key → Value"}),e.jsx("p",{children:"• Yellow highlighting shows current operation focus"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Console Output"}),e.jsxs("button",{onClick:W,className:"flex items-center gap-2 px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-sm",children:[e.jsx(A,{size:14}),"Clear"]})]}),e.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm min-h-[200px] max-h-[300px] overflow-y-auto",children:P.length===0?e.jsx("div",{className:"text-gray-500",children:"Console output will appear here when you perform operations..."}):e.jsx("div",{className:"space-y-2",children:P.map((t,s)=>e.jsxs("div",{className:"whitespace-pre-wrap",children:[e.jsxs("span",{className:"text-gray-400",children:["[",s+1,"]"]})," ",t]},s))})}),$&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Current Step:"})," ",$.description]})})]})]})]})})]})});export{ve as default};
